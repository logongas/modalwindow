<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Modulos</title>
        <link rel="stylesheet" href="css/bootstrap.css"> 
        <link rel="stylesheet" href="css/bootstrap-responsive.css">   
        <link rel="stylesheet" href="css/jquery_ui_bootstrap/jquery_ui_bootstrap.css">                 
        <script type="text/javascript" src="js/jquery-1.8.3.js"></script>
        <script type="text/javascript" src="js/jquery-ui-1.9.2.js"></script> 
        <script type="text/javascript" src="js/bootstrap.js"></script> 
        <script type="text/javascript" src="js/modalwindow.js"></script>   
        <script type="text/javascript">
            $(function() {
                jQuery("#param").val(ModalWindow.getCurrent().getParam());

                ModalWindow.getCurrent().show({
                    title:"Título de la ventana modal1.html con id="+Math.random(),
                    width:600,
                    height:500
                });


                jQuery("#btnAceptar").on("click",function() {
                    ModalWindow.getCurrent().close(true,$("#returnValue").val());
                })
                jQuery("#btnCancelar").on("click",function() {
                    ModalWindow.getCurrent().close(false);
                })

                jQuery("#btnModal").on("click",function() {
                    var modalwindow=new ModalWindow("modal1.html",jQuery("#param2").val(),function(success,returnValue) {
                        jQuery("#success2").val(success);
                        jQuery("#returnValue2").val(returnValue);
                    })
                    modalwindow.load();
                })
            })
        </script>       
    </head>
    <body>
       <label>Parámetro que han pasado a ésta ventana modal</label>
       <input type="text" id="param" />  
       <br />
       <label>Valor a retornar</label>
       <input type="text" id="returnValue" />
       <br />
       <button id="btnAceptar" class="btn">Aceptar</button>
       <button id="btnCancelar" class="btn">Cancelar</button>

       <br />
       <br />       
       <label>Parámetro a pasar a la nueva ventana modal</label>
       <input type="text" id="param2" value="Hola mundo cruel" />
       <br />
       <button id="btnModal" class="btn">Mostrar ventana modal</button>
       <br />
       <label>¿Se pulsó el botón de Aceptar al cerrar la ventana?</label>
       <input type="text" id="success2" />
       <label>Valor de retorno de la ventana</label>
       <input type="text" id="returnValue2" />  

    </div>
</body>
</html>